<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Opening Beamhub...</title>
  <script>
    window.onload = () => {
      const deepLink = "beamhub://hello";
      const fallback = "https://www.beamhub.org/";
      const ua = navigator.userAgent || navigator.vendor || window.opera;

      const isAndroid = /Android/i.test(ua);
      const isIOS = /iPhone|iPad|iPod/i.test(ua);
      const isWebView = /\bwv\b/.test(ua) || /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(ua);

      if (isWebView) {
        window.location.href = deepLink;
        return;
      }

      if (isAndroid) {
        const intentUrl = `intent://hello#Intent;scheme=beamhub;package=com.beamhub.app;S.browser_fallback_url=${encodeURIComponent(fallback)};end`;
        window.location.href = intentUrl;
        setTimeout(() => { window.location.href = fallback; }, 1500);
        return;
      }

      if (isIOS) {
        window.location.href = deepLink;
        setTimeout(() => { window.location.href = fallback; }, 1200);
        return;
      }

   alert("Please open this link from the Beamhub mobile app.");
      window.open('', '_self');
      window.close();
    };
  </script>
</head>
<body></body>
</html>
